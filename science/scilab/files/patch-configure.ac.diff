--- configure.ac.orig	2012-09-28 18:11:00.000000000 -0400
+++ configure.ac	2013-03-13 21:27:52.000000000 -0400
@@ -16,8 +16,8 @@
 
 AC_REVISION($Revision$)dnl
 AC_INIT([Scilab],[5],[http://bugzilla.scilab.org/])
-AC_PREREQ(2.62)
-AC_CONFIG_MACRO_DIR([m4/])
+AC_PREREQ([2.62])
+AC_CONFIG_MACRO_DIR([m4])
 
 SCI_BUILDDIR="`pwd`"
 SCI_SRCDIR="$srcdir"
@@ -60,7 +60,7 @@
    sleep 180
 fi
 
-AC_CONFIG_AUX_DIR(config)
+AC_CONFIG_AUX_DIR([config])
 AC_CONFIG_HEADERS([modules/core/includes/machine.h])
 
 # strip executable
@@ -145,14 +145,20 @@
 ########## compilator & misc programs detection
 ################################################
 
+AM_PROG_AR
+AC_PROG_AWK
 AC_PROG_CPP
 AC_PROG_GREP
+AC_PROG_INSTALL
+AC_PROG_MAKE_SET
+AC_PROG_MKDIR_P
+AC_PROG_RANLIB
 
 ######
 #### Mac OS X set of fink path with provided
 ######
 
-AC_ARG_WITH(fink_prefix,
+AC_ARG_WITH([fink_prefix],
 AC_HELP_STRING([--with-fink-prefix],[Provide a fink prefix. Default: /sw/ ]))
 # Need MacosX Version to specify some path.                                  
 case "$host_os" in
@@ -1214,13 +1220,24 @@
 # function strtod used in modules/core/src/c/getval.c
 AC_FUNC_STRTOD
 
+# other funcs
+AC_FUNC_ALLOCA
+AC_FUNC_ERROR_AT_LINE
+AC_FUNC_FORK
+AC_FUNC_MALLOC
+AC_FUNC_MMAP
+AC_FUNC_REALLOC
+AC_CHECK_FUNCS([realpath strcspn strspn strtoul wcwidth])
+
 ########################
 ## test for header files
 ########################
 
+AC_HEADER_STDC
+
 AC_CHECK_HEADERS([limits.h values.h])
 
-AC_CHECK_HEADERS([fcntl.h float.h libintl.h locale.h malloc.h netdb.h netinet/in.h nlist.h sgtty.h stddef.h sys/file.h sys/ioctl.h sys/param.h sys/socket.h sys/time.h sys/timeb.h sys/utsname.h syslog.h term.h termcap.h termio.h termios.h wchar.h wctype.h time.h])
+AC_CHECK_HEADERS([fcntl.h float.h libintl.h locale.h malloc.h netdb.h netinet/in.h nlist.h sgtty.h stddef.h stdio.h string.h strings.h sys/file.h sys/ioctl.h sys/param.h sys/socket.h sys/time.h sys/timeb.h sys/utsname.h syslog.h term.h termcap.h termio.h termios.h wchar.h wctype.h time.h utime.h])
 
 # check header dirent
 AC_HEADER_DIRENT
@@ -1228,9 +1245,17 @@
 # static struct timeval defined or not | used in modules/core/src/c/timer.c
 AC_HEADER_TIME
 
-# check if the specific header is available or not | used in modules/core/src/c/link_SYSV.c
+# check if the specific h
+eader is available or not | used in modules/core/src/c/link_SYSV.c
 AC_HEADER_SYS_WAIT
 
+# Checks for typedefs, structures, and compiler characteristics.
+AC_CHECK_HEADER_STDBOOL
+AC_TYPE_INT32_T
+AC_TYPE_PID_T
+AC_TYPE_SIZE_T
+AC_TYPE_UINT32_T
+AC_CHECK_TYPES([ptrdiff_t])
 
 #######################
 ## Test for structures ##
@@ -1245,7 +1270,7 @@
 
 # gettext.  See http://www.gnu.org/software/hello/manual/gettext/AM_005fGNU_005fGETTEXT.html
 AM_GNU_GETTEXT([external])
-AM_GNU_GETTEXT_VERSION([0.16])
+AM_GNU_GETTEXT_VERSION([0.18.2])
 
 # function closedir used in modules/metanet/src/c/files.c
 AC_FUNC_CLOSEDIR_VOID
@@ -1306,7 +1331,9 @@
 ## other libraries
 ##################
 
-AC_CHECK_LIB(dl, dlopen)
+AC_CHECK_LIB([dl], [dlopen])
+# FIXME: Replace `main' with a function in `-lintl':
+AC_CHECK_LIB([intl], [main])
 
 AC_SEARCH_LIBS([pthread_join],[pthread])
 
@@ -1680,7 +1707,6 @@
 AC_PROG_LIBTOOL([shared dlopen])
 AM_PROG_LIBTOOL
 
-
 # Avoid to link all the dep from others libraries (*.la included by LIBADD)
 link_all_deplibs=no
 
